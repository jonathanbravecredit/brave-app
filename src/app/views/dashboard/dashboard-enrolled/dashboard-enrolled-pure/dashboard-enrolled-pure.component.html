<h2 class="text-lg font-semibold">{{ welcomeMsg }}</h2>

<div *ngIf="trends && report && scores" class="my-4 flex justify-center">
  <brave-dashboard-carousel
    [trends]="trends"
    [report]="report"
    [scores]="scores"
  ></brave-dashboard-carousel>
</div>

<h2 class="mb-1 text-lg font-semibold">{{ content.h1 }}</h2>
<p *ngIf="lastUpdated" class="text-xs mb-1">
  {{ content.p1 }}: {{ lastUpdated | date: "shortDate" }}
</p>
<div *ngIf="cards" class="mb-4">
  <div class="mt-6 hover:cursor-pointer">
    <brave-snapshot-display-card
      tendency="up"
      label="update"
      [title]="content.negativeAccountsTitle"
      typeOfSnapshot="time"
      [value]="cards.negativeCardCount || 0"
      [status]="cards.negativeCardStatus || 'safe'"
      braveAnalytics
      [analyticClickEvents]="AnalyticClickEvents.SnapshotNegativeItemsModule"
      (click)="negativeItemsClicked.emit()"
    ></brave-snapshot-display-card>
  </div>
  <div class="mt-6 hover:cursor-pointer">
    <brave-snapshot-display-card
      tendency="no-tendency"
      [title]="content.forbearanceAccountsTitle"
      [status]="
        cards.forbearanceCardStatus !== 'safe'
          ? cards.forbearanceReviewed
            ? 'safe'
            : cards.forbearanceCardStatus || 'safe'
          : cards.forbearanceCardStatus
      "
      braveAnalytics
      [analyticClickEvents]="AnalyticClickEvents.SnapshotForbearanceModule"
      (click)="forbearanceItemsClicked.emit()"
    ></brave-snapshot-display-card>
  </div>
  <div class="mt-6 hover:cursor-pointer">
    <brave-snapshot-display-card
      tendency="no-tendency"
      [title]="content.databreachAccountsTitle"
      [status]="
        cards.databreachReviewed ? 'safe' : cards.databreachCardStatus || 'safe'
      "
      braveAnalytics
      [analyticClickEvents]="AnalyticClickEvents.SnapshotBreachCard"
      (click)="databreachItemsClicked.emit()"
    ></brave-snapshot-display-card>
  </div>
  <div class="mt-6 hover:cursor-pointer">
    <brave-snapshot-display-card
      tendency="no-tendency"
      status="danger"
      title="Credit Utilization"
      braveAnalytics
      [analyticClickEvents]="AnalyticClickEvents.SnapshotCreditUtilization"
      (click)="creditUtilizationClicked.emit()"
    ></brave-snapshot-display-card>
  </div>
  <div class="mt-6 hover:cursor-pointer">
    <brave-snapshot-display-card
      tendency="no-tendency"
      label="new"
      status="danger"
      title="Credit Mix"
      braveAnalytics
      [analyticClickEvents]="AnalyticClickEvents.SnapshotCreditMix"
      (click)="creditMixClicked.emit()"
    ></brave-snapshot-display-card>
  </div>
  <div class="mt-6 hover:cursor-pointer">
    <brave-snapshot-display-card
      tendency="no-tendency"
      label="new"
      status="safe"
      title="Referrals"
      (click)="referralsClicked.emit()"
    ></brave-snapshot-display-card>
  </div>
</div>

<brave-links-onlytext-button
  class="w-full"
  (click)="fullReportClicked.emit()"
  >{{ content.b1 }}</brave-links-onlytext-button
>

<!-- Referral Gauge -->

<div
  class="flex flex-col justify-evenly items-center align-center py-6 my-4 cursor-pointer"
  style="border-top: 1px solid gray; border-bottom: 1px solid gray"
  (click)="referralsClicked.emit()"
>
  <h3>Your Referral Progress This Month:</h3>

  <div class="relative">
    <div
      class="absolute min-w-full min-h-full flex flex-col justify-center items-center"
    >
      <h1 class="font-semibold text-center text-3xl">{{ referrals }}/10</h1>
      <p class="text-center text-sm" style="max-width: 50%">Referrals</p>
    </div>

    <brave-percentage-gauge
      [percentageNumber]="[{ name: 'name', value: referrals * 10 }]"
      [startAngle]="180"
      [runCalcColor]="false"
      [view]="[150, 125]"
    ></brave-percentage-gauge>
  </div>

  <p
    class="mt-1 mb-2 text-center brave-body3 hover:cursor-pointer text-opacity-75 italic"
  >
    Click To See Details
  </p>
</div>

<!--  -->

<h5 class="mb-2 font-semibold text-lg">{{ content.h2 }}</h5>
<h6 class="mb-4 text-sm">{{ content.h3 }}</h6>
<div class="mt-2 flex flex-col justify-center items-center">
  <brave-credit-builder-card
    braveAnalytics
    [analyticClickEvents]="AnalyticClickEvents.DashboardProduct"
    [analyticConfig]="{ google: false, mixpanel: false, brave: true }"
  ></brave-credit-builder-card>
  <p
    class="mt-1 mb-2 text-center brave-body3 hover:cursor-pointer text-opacity-75 italic"
    (click)="showDisclaimer = !showDisclaimer"
  >
    {{ content.link1 }}
  </p>
  <ng-container *ngIf="showDisclaimer">
    <p class="brave-body3 text-opacity-50 mb-2">{{ content.p2 }}</p>
    <div
      class="brave-body3 text-opacity-50 flex justify-center items-center align-center hover:cursor-pointer"
      (click)="showDisclaimer = false"
    >
      <span class="material-icons" style="font-size: 12px">close</span>
      <p>close</p>
    </div>
  </ng-container>
</div>
